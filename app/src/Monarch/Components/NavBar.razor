@using Monarch.Models
@using Monarch.Layout

<nav class="navbar">
    <div class="navbar-content">
        <div class="navbar-left">
            <a href="/" class="logo-link">
                <div class="logo-container">
                    <img src="10zoom.png" alt="Monarch Logo" class="logo" />
                </div>
            </a>
            <span class="dashboard-title">Monarch</span>
        </div>

        <div class="navbar-right">
            <button class="icon-btn" title="Add Application" aria-label="Add Application" @onclick="ToggleAddApp">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 50 50" fill="currentColor">
                    <path d="M 25 2 C 12.309295 2 2 12.309295 2 25 C 2 37.690705 12.309295 48 25 48 C 37.690705 48 48 37.690705 48 25 C 48 12.309295 37.690705 2 25 2 z M 25 4 C 36.609824 4 46 13.390176 46 25 C 46 36.609824 36.609824 46 25 46 C 13.390176 46 4 36.609824 4 25 C 4 13.390176 13.390176 4 25 4 z M 24 13 L 24 24 L 13 24 L 13 26 L 24 26 L 24 37 L 26 37 L 26 26 L 37 26 L 37 24 L 26 24 L 26 13 L 24 13 z"/>
                </svg>
            </button>
            <a href="/admin" class="icon-btn console-btn" title="Admin Console" aria-label="Admin Console">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                    <path
                        d="M20 3H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h3v2h10v-2h3c1.11 0 2-.89 2-2V5c0-1.11-.89-2-2-2zm0 13H4V5h16v11zm-2-9H6v2h12V7zm0 4H6v2h12v-2z" />
                </svg>
            </a>
            <a href="/profile" class="icon-btn user-btn" title="User Profile" aria-label="User Profile">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                    <path
                        d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" />
                </svg>
            </a>
        </div>
    </div>
</nav>

<AddApplication IsVisible="showAddApp" OnClose="ToggleAddApp" />

<style>
    .navbar {
        background-color: #3D3D3D;
        border-bottom: 1px solid #4D4D4D;
        padding: 0 24px;
        height: 64px;
        display: flex;
        align-items: center;
        position: sticky;
        top: 0;
        z-index: 100;
    }

    .navbar-content {
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .navbar-left {
        display: flex;
        align-items: center;
        gap: 16px;
    }

    .logo-link {
        text-decoration: none;
        display: block;
    }

    .logo-container {
        width: 62px;
        height: 62px;
        background-color: transparent;
        border: none;
        border-radius: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 1px;
        cursor: pointer;
    }

    .logo-link:hover .logo-container {
        opacity: 0.8;
    }

    .logo {
        width: 100%;
        height: 100%;
        object-fit: contain;
    }

    .dashboard-title {
        color: #FFFFFF;
        font-size: 20px;
        font-weight: 400;
        letter-spacing: 0.02em;
    }

    .navbar-right {
        display: flex;
        align-items: center;
        gap: 12px;
    }

    .icon-btn {
        background: transparent;
        border: none;
        color: #FFFFFF;
        padding: 8px;
        border-radius: 4px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background-color 0.2s ease;
        text-decoration: none;
    }

    .icon-btn:hover {
        background-color: rgba(255, 255, 255, 0.1);
    }

    .icon-btn svg {
        display: block;
    }

    .user-btn {
        width: 36px;
        height: 36px;
        border-radius: 50%;
    }

    .app-btn {
        width: 36px;
        height: 36px;
        border-radius: 50%;
    }

</style>

@code {
    
    // Admin console now lives at /admin route â€” no code-behind needed here.

    // Switch to show/hide Add Application modal
    private bool showAddApp = false;
    private void ToggleAddApp() => showAddApp = !showAddApp;

}
